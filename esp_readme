1. Install dependencies:
python3 -m pip install --upgrade pip esptool mpremote

2. Find the serial port:
ls /dev/cu.*

3. Download ESP MicroPython firmware

4. Erase flash:
esptool --chip esp32 --port <PORT> --baud 460800 erase_flash

5. Flash MicroPython:
esptool --chip esp32 --port <PORT> --baud 460800 write_flash -z 0x1000 ~/Downloads/ESP32_GENERIC-*.bin

6. Open the MicroPython prompt to verify
screen <PORT> 115200

7. Copy files to ESP32:
mpremote connect <PORT> fs cp wifi.py :
mpremote connect <PORT> fs cp main.py :

8. Confirm that files were copied:
mpremote connect <PORT> fs ls

9. Reboot the ESP32 and watch the logs
mpremote connect <PORT> reset
mpremote connect <PORT> repl (Ctrl-X to close)

---------------

IP: 192.168.8.52
